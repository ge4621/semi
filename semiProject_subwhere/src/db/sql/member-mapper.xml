<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>

<entry key="updateMember"> <!-- 마이페이지 개인정보 -->
	UPDATE MEMBER
	   SET
	   PROFILE_IMG = ?
	  , NICKNAME = ?
	  , EMAIL = ?
	  , PHONE = ?
	  WHERE MEMBER_ID = ?
</entry>

<entry key="selectMember">
	SELECT 
	   MEMBER_NO
	 , MEMBER_NAME
	 , MEMBER_ID
	 , MEMBER_PWD
	 , PHONE
	 , EMAIL
	 , NICKNAME
	 , STATUS
	 , ENROLL_DATE
	 , PROFILE_IMG
	  FROM MEMBER
	 WHERE MEMBER_ID = ?
	 AND STATUS IN('Y','W')
</entry>

<entry key="deleteMember"><!-- 회원 탈퇴 -->
	UPDATE MEMBER
	   SET 
	   STATUS ='S'
	   WHERE 
	   MEMBER_ID = ?
	   AND MEMBER_PWD = ?
</entry>

<entry key="loginMember"> <!-- 로그인 -->
   SELECT 
          MEMBER_NO
        , MEMBER_NAME
        , MEMBER_ID
        , MEMBER_PWD
        , PHONE
        , EMAIL
        , NICKNAME
        , STATUS
        , ENROLL_DATE
        , PROFILE_IMG
     FROM MEMBER
    WHERE MEMBER_ID = ?
      AND MEMBER_PWD = ?
      AND STATUS = 'Y'
</entry>

<entry key="selectrreviewListCount"> <!--여행 후기 게시판 댓글 개수 -->
SELECT COUNT(*) COUNT
FROM COMMENTS 
WHERE MEMBER_NO=?
AND BOARD_NO BETWEEN 2000 AND 2600
</entry>

<entry key="updatePwd"> <!-- 비밀번호 변경 -->
UPDATE MEMBER
   SET MEMBER_PWD = ?
WHERE MEMBER_ID = ?
AND MEMBER_PWD = ?
</entry>

<entry key="selectRlist"><!-- 후기글 댓글 리스트 + 페이징 포함 -->
	SELECT * 
	  FROM(SELECT ROWNUM RNUM,R.*
	    FROM(SELECT 
	            TITLE
	          , COMMENT_CONTENT "COMMENT"
	          , C.MODIFY_DATE
	        FROM COMMENTS C
	        JOIN REVIEW R USING(BOARD_NO)
	        WHERE C.STATUS = 'Y'
	        AND R.STATUS = 'Y'
	        AND MEMBER_NO = ?
	        AND BOARD_NO BETWEEN 2000 AND 2600
	        ORDER
	            BY BOARD_NO DESC
	            ) R
	        )
	    WHERE RNUM BETWEEN ? AND ?
</entry>

<entry key="selectCosListCount"> <!-- 코스게시판 댓글 개수 -->
SELECT COUNT(*) COUNT
FROM COMMENTS
WHERE MEMBER_NO=?
AND BOARD_NO BETWEEN 1000 AND 1600
</entry>

<entry key="selectmyCreview"><!-- 코스댓글 + 페이징 -->
SELECT * 
  FROM(SELECT ROWNUM RNUM,C.*
    FROM(SELECT 
            TITLE
          , COMMENT_CONTENT "COMMENT"
          , C.MODIFY_DATE
        FROM COMMENTS C
        JOIN COURSE R USING(BOARD_NO)
        WHERE C.STATUS = 'Y'
        AND R.STATUS = 'Y'
        AND C.MEMBER_NO = ?
        AND BOARD_NO BETWEEN 1000 AND 1600
        ORDER
            BY BOARD_NO DESC
            ) C
        )
    WHERE RNUM BETWEEN ? AND ?
</entry>

<entry key="selectDListCount"><!-- 여행지 댓글 개수 -->
SELECT COUNT(*) COUNT
FROM COMMENTS
WHERE MEMBER_NO=?
AND BOARD_NO BETWEEN 100 AND 160
</entry>

<entry key="selectmyRreview"><!-- 여행지 댓글 + 페이징 -->
SELECT * 
  FROM(SELECT ROWNUM RNUM,K.*
    FROM(SELECT 
            TITLE
          , COMMENT_CONTENT "COMMENT"
          , C.MODIFY_DATE
        FROM COMMENTS C
        JOIN DESTINATION D USING(BOARD_NO)
        WHERE C.STATUS = 'Y'
        AND D.STATUS = 'Y'
        AND C.MEMBER_NO = ?
        AND BOARD_NO BETWEEN 100 AND 160
        ORDER
            BY BOARD_NO DESC
            ) K
        )
    WHERE RNUM BETWEEN ? AND ?
</entry>


<entry key="idCheck"> <!-- ajax 아이디 중복 체크 -->
SELECT
       COUNT(*) "COUNT"
  FROM MEMBER
 WHERE MEMBER_ID = ?
</entry>

<entry key="insertMember"> <!-- 회원가입 -->
   INSERT
   INTO MEMBER
       (
           MEMBER_NO
         , MEMBER_NAME
         , MEMBER_ID
         , MEMBER_PWD
         , PHONE
         , EMAIL
         , NICKNAME
         , PROFILE_IMG
       )
   VALUES
       (
           SEQ_MEMBER_NO.NEXTVAL
         , ?
         , ?
         , ?
         , ?
         , ?
         , ?
         , ?
       )
</entry>

<entry key="selectbcosList"> <!-- 마이페이지 내가 쓴 코스글 조회 -->
SELECT
      FILE_PATH || '/' || CHANGE_NAME "TITLE_IMG"
     ,TITLE 
     ,CONTENT
     ,MODIFY_DATE
FROM COURSE
JOIN UPLOADFILE ON (REFD_BNO = BOARD_NO)
WHERE MEMBER_NO = ? 
AND FILE_LEVEL = 1
</entry>

<entry key="selectReview"> <!-- 마이페이지 내가 쓴 후기글 조회 -->
SELECT
     FILE_PATH  || '/' || CHANGE_NAME "TITLE_IMG"
   , TITLE
   , CONTENT
   , MODIFY_DATE
FROM REVIEW
LEFT JOIN UPLOADFILE ON (REFD_BNO = BOARD_NO)
WHERE BOARD_WRITER = ?
AND FILE_LEVEL = 1

</entry>



</properties>